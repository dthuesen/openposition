<p id="notice"><%= notice %></p>

<h1>Open Topics List</h1>

<section>
  <div class="row">
    <div>
      <br>
      <%= link_to 'Neue Position anlegen', new_open_positions_list_path, class: 'btn btn-default' %><br><br>
    </div>
    
  </div>

  <div class="row">
    <table class="pretty table table-striped table-sm table-hover">
      <thead style="background-color: YellowGreen; ", class="table-head header">
        <tr>
          <th class="col-sl"><%= sortable "shortlist" %></th>
          <th class="col-id"><%= sortable "id" %></th>
          <th class="col-no"><%= sortable "number" %></th>
          <th class="col-su"><%= sortable "summary" %></th>
          <th class="col-ds"><%= sortable "description" %></th>
          <th class="col-op"><%= sortable "option" %></th>
          <th class="col-co"><%= sortable "component" %></th>
          <th class="col-ca"><%= sortable "category" %></th>
          <th class="col-pr"><%= sortable "prio" %></th>
          <th class="col-rp"><%= sortable "responsible" %></th>
          <th class="col-st"><%= sortable "state" %></th>
          <th class="col-cm"><%= sortable "costmodel" %></th>
          <th class="col-av"><%= sortable "affects_version" %></th>
          <th class="col-it"><%= sortable "issue_ticket" %></th>
          <th class="col-tt"><%= sortable "ticket_text" %></th>
          <th class="col-nt"><%= sortable "notes" %></th>
          <th class="col-is"><%= sortable "in_sprint" %></th>
          <th class="col-is"><%= sortable "updated_at" %></th>
          <th colspan="" class="sorttable_nosort"></th>
        </tr>
      </thead>
    
      <tbody>
        
        <% @open_positions_lists.each do |open_positions_list| %>

          <%= form_for(open_positions_list) do |f| %>
          <tr>
            <td><%= open_positions_list.shortlist %></td>
            <td><%= open_positions_list.id %></td>
            <td><%= open_positions_list.number %></td>
            <td><%= open_positions_list.description %></td>
            <td><%= open_positions_list.summary %></td>
            <td><%= open_positions_list.option %></td>
            <td><%= open_positions_list.component %></td>
            <td><%= open_positions_list.category %></td>
            <td><%= open_positions_list.prio %></td>
            <td><%= open_positions_list.responsible %></td>
            <td><%= open_positions_list.state %></td>
            <td><%= open_positions_list.costmodel %></td>
            <td><%= open_positions_list.affects_version %></td>
            <td><%= open_positions_list.issue_ticket %></td>
            <td><%= open_positions_list.ticket_text %></td>
            <td><%= open_positions_list.notes %></td>
            <td><%= open_positions_list.in_sprint %></td>
            <td><%= open_positions_list.updated_at.strftime("%d. %b %Y") %></td>
            <td>
              <ul style="list-style-type:none">
                <li><%= link_to '', open_positions_list, class: 'glyphicon glyphicon-eye-open button', style: 'color:YellowGreen ;' %></li>  <!-- 'Show' -->
                <li><%= link_to '', edit_open_positions_list_path(open_positions_list), class: 'glyphicon glyphicon-pencil button', style: 'color:YellowGreen ;' %></li> <!-- 'Edit' -->
                <li><%= link_to '', open_positions_list, class: 'glyphicon glyphicon-trash button', style: 'color:YellowGreen ;', method: :delete, data: { confirm: 'Are you sure?' } %></li> <!-- 'Destroy' -->
              </ul>
            </td>
          </tr>
          <% end %>
        <% end %>
      </tbody>
    </table>
  </div>
  <div class="row">
    <div>
    <br>
      <%= link_to 'Neue Position anlegen', new_open_positions_list_path, class: 'btn btn-success' %><br><br>
    </div>  
  </div>
  
  <br>
  <br>
  <hr>
</section>

<script>
    // CELL COLOR DEPENDING ON CONTENT
    $( "td:contains('BUG')" ).css( "color", "red" );
    $( "td:contains('MINOR')" ).css( "color", "DeepSkyBlue" );
    $( "td:contains('MAJOR')" ).css( "color", "GoldenRod" ).css( "font-weight", "bold" );
    $( "td:contains('FEATURE')" ).css( "color", "DeepSkyBlue" );
    $( "td:contains('IMPROVEMENT')" ).css( "color", "LimeGreen" );
    $( "td:contains('PROJECT')" ).css( "color", "DarkSlateGray" );
    $( "td:contains('STOPPED')" ).css( "color", "DarkGray" );
    $( "td:contains('NEW')" ).css( "background-color", "PowderBlue" );
    $( "td:contains('TO-DO')" ).css( "background-color", "PaleGoldenRod" );
    $( "td:contains('ANALYSIS')" ).css( "background-color", "Silver" );
    $( "td:contains('IN PROGRESS')" ).css( "background-color", "Khaki" );
    $( "td:contains('QA')" ).css( "background-color", "Aquamarine" );
    $( "td:contains('DONE')" ).css( "background-color", "OliveDrab" ).css( "color", "white" );
    $( "td:contains('REJECTED')" ).css( "background-color", "Thistle " );
    $( "td:contains('CRITICAL')" ).css( "color", "OrangeRed" ).css( "font-weight", "bold" );
    $( "td:contains('BLOCKER')" ).css( "color", "FireBrick" ).css( "font-weight", "bold" );
    $( "td:contains('Yes!')" ).css("background-color", "YellowGreen").css( "font-weight", "bold" ).css( "color", "white" );
</script>

