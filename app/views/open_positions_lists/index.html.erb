<div class="container-opl">

  <p id="notice"><%= notice %></p>
  
  <h1>Open Topics List</h1>
  
  <section>
            <br>
    <div class="row">
      <div class="col-md-2">
        <%= link_to 'Neue Position anlegen', new_open_positions_list_path, class: 'btn btn-default' %><br><br>
      </div>
      <form>
        <div>
          <span>
            <select id="men-client" class="btn btn-default">
                <option value="">Client Filter</option>
                <option value="All">All</option>
                <option value="O2">O2</option>
                <option value="Telefonica">Telefonica</option>
            </select>
          </span>
          <span> 
            <select id="men-category" class="btn btn-default">
                <option value="">Category Filter</option>
                <option value="All">All</option>
                <option value="FEATURE">FEATURE</option>
                <option value="BUG">BUG</option>
                <option value="IMPROVEMENT">IMPROVEMENT</option>
                <option value="PROJECT">PROJECT</option>
                <option value="STOPPED">STOPPED</option>
            </select>
          </span>
          <span> 
            <select id="men-prio" class="btn btn-default">
                <option value="">Priority Filter</option>
                <option value="All">All</option>
                <option value="TRIVIAL">TRIVIAL</option>
                <option value="MINOR">MINOR</option>
                <option value="MAJOR">MAJOR</option>
                <option value="CRITICAL">CRITICAL</option>
                <option value="BLOCKER">BLOCKER</option>
            </select>
          </span>
          <span> 
            <select id="men-state" class="btn btn-default">
                <option value="">State Filter</option>
                <option value="All">All</option>
                <option value="NEW">NEW</option>
                <option value="TO-DO">TO-DO</option>
                <option value="ANALYSIS">ANALYSIS</option>
                <option value="IN PROGRESS">IN PROGRESS</option>
                <option value="QA">QA</option>
                <option value="DONE">DONE</option>
                <option value="REJECTED">REJECTED</option>
            </select>
          </span>
        </div>
      </form>
    </div>
  
    <div class="row">
        <table class="pretty table table-striped table-sm table-hover">
            <thead style="background-color: YellowGreen; ", class="table-head header">
              <tr>
                <th class="col-sl"><%= sortable "shortlist", "Short List" %></th>
                <th class="col-id"><%= sortable "id" %></th>
                <th class="col-no"><%= sortable "number", "No" %></th>
                <th class="col-su"><%= sortable "summary" %></th>
                <th class="col-ds"><%= sortable "description" %></th>
                <th class="col-op"><%= sortable "option" %></th>
                <th class="col-co"><%= sortable "component" %></th>
                <th class="col-ca"><%= sortable "category" %></th>
                <th class="col-pr"><%= sortable "prio" %></th>
                <th class="col-rp"><%= sortable "responsible", "Resp." %></th>
                <th class="col-st"><%= sortable "state" %></th>
                <th class="col-cm"><%= sortable "costmodel" %></th>
                <th class="col-av"><%= sortable "affects_version" %></th>
                <th class="col-it"><%= sortable "issue_ticket" %></th>
                <th class="col-tt"><%= sortable "ticket_text" %></th>
                <th class="col-nt"><%= sortable "notes" %></th>
                <th class="col-is"><%= sortable "in_sprint" %></th>
                <th class="col-is"><%= sortable "updated_at" %></th>
                <th class="col-is"><%= sortable "client" %></th>
                <th colspan="" class="sorttable_nosort"></th>
              </tr>
            </thead>
          
            <tbody>
              
              <% @open_positions_lists.each do |open_positions_list| %>
      
                <%= form_for(open_positions_list) do |f| %>
                <tr>
                  <!--<td>< %= best_in_place open_positions_list, :shortlist, as: :checkbox, :collection => [["No", false], ["Yes!", true]]  %></td>-->
                  <td><%= best_in_place open_positions_list, :shortlist, as: :select, :collection => [[false, "No!"], [true, "Yes!"]]  %></td>
                  <!--<td>< %= open_positions_list.shortlist %></td>-->
                  <td><%= open_positions_list.id %></td>
                  <td><%= open_positions_list.number %></td>
                  <td><%= best_in_place open_positions_list, :summary, :as => :textarea  %></td>
                  <td><%= best_in_place open_positions_list, :description, :as => :textarea %></td>
                  <td><%= best_in_place open_positions_list, :option, :as => :textarea,
                                                                  :place_holder => "Optionale Notizen eintragen..."  %></td>
                  <td><%= best_in_place open_positions_list, :component, as: :select, 
                                                            :collection => [["Facebook", "Facebook"], 
                                                            ["Gute Frage", "Gute Frage"], 
                                                            ["Youtube", "Youtube"], 
                                                            ["Instagram", "Instagram"], 
                                                            ["Foren", "Foren"], 
                                                            ["anderes SN (s. Beschreibung)", "anderes SN (s. Beschreibung)"],
                                                            ["Agent Desktop", "Agent Desktop"],
                                                            ["Overview Panel", "Overview Panel"],
                                                            ["Detail Panel", "Detail Panel"],
                                                            ["Statistik", "Statistik"],
                                                            ["FAQ", "FAQ"],
                                                            ["Publishing", "Publishing"],
                                                            ["Config", "Config"],
                                                            ["System allgemein", "System allgemein"],
                                                            ["Import", "Import"],
                                                            ["Filter", "Filter"],
                                                            ["sonstiges (s. Beschreibung)", "sonstiges (s. Beschreibung)"]], 
                                                                  :place_holder => "k.A. zur betroffenen Komponente"  %></td>
                  <td><%= best_in_place open_positions_list, :category, 
                                                          as: :select, 
                                                          :collection => [["FEATURE", "FEATURE"], 
                                                          ["BUG", "BUG"], 
                                                          ["IMPROVEMENT", "IMPROVEMENT"], 
                                                          ["PROJECT", "PROJECT"], 
                                                          ["STOPPED", "STOPPED"]], 
                                                                  :place_holder => "k.A. zur Kategorie" %></td>
                  <td><%= best_in_place open_positions_list, :prio,
                                                          as: :select, 
                                                          :collection => [["TRIVIAL", "TRIVIAL"], 
                                                          ["MINOR", "MINOR"], 
                                                          ["MAJOR", "MAJOR"], 
                                                          ["CRITICAL", "CRITICAL"], 
                                                          ["BLOCKER", "BLOCKER"]], 
                                                                  :place_holder => "k.A. zur PrioritÃ¤t" %></td>
                  <td><%= best_in_place open_positions_list, :responsible,
                                                          as: :select, 
                                                          :collection => [["PO", "PO"], 
                                                          ["PL", "PL"], 
                                                          ["QM", "QM"]], 
                                                                  :place_holder => "k.A." %></td>
                  <td><%= best_in_place open_positions_list, :state, 
                                                          as: :select, 
                                                          :collection => [["NEW", "NEW"], 
                                                          ["TO-DO", "TO-DO"], 
                                                          ["ANALYSIS", "ANALYSIS"], 
                                                          ["OPEN", "OPEN"], 
                                                          ["IN PROGRESS", "IN PROGRESS"], 
                                                          ["QA", "QA"], 
                                                          ["DONE", "DONE"], 
                                                          ["REJECTED", "REJECTED"]], 
                                                                  :place_holder => "k.A. zum Status" %></td>
                  <td><%= best_in_place open_positions_list, :costmodel, 
                                                          as: :select, 
                                                          :collection => [["ROADMAP", "ROADMAP"], 
                                                          ["COST-SHARING", "COST-SHARING"], 
                                                          ["CLIENT-PROJECT", "CLIENT-PROJECT"]], 
                                                                  :place_holder => "k.A. zum Cost-Model" %></td>
                  <td><%= best_in_place open_positions_list, :affects_version, 
                                                                  :place_holder => "Betroffene Versionen eintragen..." %></td>
                  <td><%= best_in_place open_positions_list, :issue_ticket, 
                                                             input_html: { value: "SC-" },
                                                                  :place_holder => "Ticket-Nr. eintragen..." %></td>
                  <td><%= best_in_place open_positions_list, :ticket_text, :as => :textarea, 
                                                                  :place_holder => "Ticket-Text eintragen..." %></td>
                  <td><%= best_in_place open_positions_list, :notes, :as => :textarea, 
                                                                  :place_holder => "Notizn..." %></td>
                  <td><%= best_in_place open_positions_list, :in_sprint, 
                                                                  :place_holder => "In Sprint..." %></td>
                  <td><%= open_positions_list.updated_at.strftime("%d. %b %Y") %></td>
                  <td><%= best_in_place open_positions_list, :client,
                                                          as: :select, 
                                                          :collection => [["O2", "O2"], ["Telefonica", "Telefonica"]], 
                                                          :place_holder => "k.A." %></td>
                  <td>
                    <ul style="list-style-type:none">
                      <!-- 'Show' <li>< %= link_to '', open_positions_list, class: 'glyphicon glyphicon-eye-open button', style: 'color:YellowGreen ;' %></li>   -->
                      <!-- 'Edit' <li>< %= link_to '', edit_open_positions_list_path(open_positions_list), class: 'glyphicon glyphicon-pencil button', style: 'color:YellowGreen ;' %></li>  -->
                      <li><%= link_to '', open_positions_list, class: 'glyphicon glyphicon-trash button', style: 'color:YellowGreen ;', method: :delete, data: { confirm: 'Are you sure?' } %></li> <!-- 'Destroy' -->
                    </ul>
                  </td>
                </tr>
                <% end %>
              <% end %>
            </tbody>
          </table>
      </div>
    <div class="row">
      <div>
      <br>
        <%= link_to 'Neue Position anlegen', new_open_positions_list_path, class: 'btn btn-success' %><br><br>
      </div>
      
      <p>
        Download:
        <%= link_to "CSV", open_positions_lists_path(format: "csv") %> |
        <%= link_to "Excel", open_positions_lists_path(format: "xls") %>
      </p>
      
      <h4>Import OPL</h4>
        <%= form_tag import_open_positions_lists_path, multipart: true do %>
          <%= file_field_tag :file %>
          <%= submit_tag "Import" %>
        <% end %>
    </div>
    
    <br>
    <br>
    <hr>
  </section>
</div>
